<div class="eve-app">
  <!-- Header with Navigation -->
  <header class="app-header">
    <div class="app-title">EVE GAS HUFFING OPTIMIZER</div>
    <nav class="main-nav">
      <a class="nav-tab active">SCANNER</a>
      <a class="nav-tab">DASHBOARD</a>
      <a class="nav-tab">PROFILES</a>
      <a class="nav-tab">SETTINGS</a>
    </nav>
    <button class="close-btn">✕</button>
  </header>

  <div class="main-content">
    <!-- Left Panel: Probe Data Input -->
    <section class="input-panel">
      <h2 class="section-title">Paste Probe Data</h2>
      
      <div class="input-controls">
        <button type="button" (click)="loadSampleData()" class="sample-btn">
          Load Sample
        </button>
        <button type="button" (click)="onClear()" class="clear-btn">
          Clear
        </button>
      </div>
      
      <textarea 
        [(ngModel)]="probeText"
        placeholder="Paste your probe scanner data here..."
        class="probe-input"
        rows="8">
      </textarea>
      
      <button 
        (click)="onParseProbeText()" 
        [disabled]="isLoading || !probeText.trim()"
        class="parse-btn">
        {{ isLoading ? 'Parsing...' : 'Parse Data' }}
      </button>
      
      <div *ngIf="errorMessage" class="error-display">
        {{ errorMessage }}
      </div>
    </section>

    <!-- Right Panel: Detected Sites -->
    <section class="sites-panel">
      <h2 class="section-title">Detected Sites</h2>
      
      <div *ngIf="results.length > 0" class="sites-table">
        <div class="table-header">
          <div class="col-sig">Signature ID</div>
          <div class="col-name">Site Name</div>
          <div class="col-type">Gas Type</div>
        </div>
        
        <div *ngFor="let result of results" class="table-row">
          <div class="col-sig">{{ result.sigId }}</div>
          <div class="col-name" [class.gas-site]="result.siteName !== 'Cosmic Signature'">
            {{ result.siteName }}
          </div>
          <div class="col-type">
            <span *ngIf="result.siteName !== 'Cosmic Signature'" class="gas-type-indicator">Gas Site</span>
            <span *ngIf="result.siteName === 'Cosmic Signature'" class="unknown-type">—</span>
          </div>
        </div>
      </div>
      
      <div *ngIf="results.length === 0 && !isLoading" class="no-sites">
        <div class="empty-state">No sites detected</div>
      </div>
    </section>
  </div>

  <!-- Bottom Panels: Dashboard Data -->
  <div class="dashboard-panels">
    <!-- ISK per Hour -->
    <section class="isk-panel">
      <h3 class="panel-title">ISK per Hour</h3>
      <div class="isk-entries">
        <div class="isk-entry" *ngFor="let result of getGasSites()">
          <div class="site-name-small">{{ result.siteName }}</div>
          <div class="isk-amount">{{ getRandomISK() }}<span class="isk-unit">M ISK/h</span></div>
        </div>
        <div *ngIf="getGasSites().length === 0" class="no-data">
          Parse probe data to see ISK estimates
        </div>
      </div>
    </section>

    <!-- Estimated Time to Clear -->
    <section class="time-panel">
      <h3 class="panel-title">Estimated Time to Clear</h3>
      <div class="time-chart">
        <div class="chart-placeholder">
          <div class="chart-bar" style="height: 60%"></div>
          <div class="chart-bar" style="height: 80%"></div>
          <div class="chart-bar" style="height: 100%"></div>
        </div>
        <div class="time-estimate">24.8 <span class="time-unit">minutes</span></div>
      </div>
    </section>

    <!-- Huffing Profiles -->
    <section class="profile-panel">
      <h3 class="panel-title">Huffing Profiles</h3>
      <div class="profile-info">
        <div class="character-name">Character 1</div>
        
        <div class="bonus-row">
          <span class="bonus-label">Link Bonus</span>
          <div class="bonus-bar">
            <div class="bonus-fill" style="width: 75%"></div>
          </div>
          <span class="bonus-value">15%</span>
        </div>
        
        <div class="bonus-row">
          <span class="bonus-label">Module Bonus</span>
          <div class="bonus-bar">
            <div class="bonus-fill" style="width: 50%"></div>
          </div>
          <span class="bonus-value">10%</span>
        </div>
        
        <div class="bonus-row">
          <span class="bonus-label">Implant Bonus</span>
          <div class="bonus-bar">
            <div class="bonus-fill" style="width: 25%"></div>
          </div>
          <span class="bonus-value">5%</span>
        </div>
        
        <div class="effective-rate">
          <div class="rate-label">Effective Huff Rate</div>
          <div class="rate-value">210.0 <span class="rate-unit">m³/min</span></div>
        </div>
      </div>
    </section>
  </div>
</div>